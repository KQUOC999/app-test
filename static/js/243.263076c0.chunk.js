"use strict";(self.webpackChunkapp_test=self.webpackChunkapp_test||[]).push([[243],{43243:(n,l,i)=>{i.r(l),i.d(l,{default:()=>v});var u=i(65043),t=i(96244),o=i(40443),a=i(93402),e=i(70579);const d=new a.qw({id:"app-test-dnvhs"}),r=d.currentUser,v=()=>{const[n,l]=(0,u.useState)(!0),[i,a]=(0,u.useState)({}),[v,c]=(0,u.useState)({}),[h,s]=(0,u.useState)(null),[_,p]=(0,u.useState)({}),[,m]=(0,u.useState)([]),g=(0,u.useCallback)((async()=>{try{var n,i,u,t;const o="salaryFormModule",e=await(null===r||void 0===r?void 0:r.callFunction(o));a(null===e||void 0===e||null===(n=e.public)||void 0===n||null===(i=n.input)||void 0===i?void 0:i.jsonSchema),c(null===e||void 0===e||null===(u=e.public)||void 0===u||null===(t=u.output)||void 0===t?void 0:t.jsonData),l(!1)}catch(o){console.error("Error fetching data:",o),l(!1)}}),[]);(0,u.useEffect)((()=>{g()}),[g]);const y=(0,u.useCallback)((n=>{let l=0;switch(n){case"Teaching Department":l=5e3;break;case"Technical Department":l=6e3;break;case"HR Department":l=7e3;break;case"Production Department":l=8e3;break;case"Supervision Department":l=9e3;break;case"R&D":l=1e4;break;case"CFO":l=11e3;break;case"CEO":l=12e3;break;default:l=0}p((n=>{var i,u;return(null===n||void 0===n||null===(i=n["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"])||void 0===i||null===(u=i.Part)||void 0===u?void 0:u["L\u01b0\u01a1ng_c\u01a1_b\u1ea3n"])!==l?{...n,"Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input":{...n["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"],Part:{...n["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"].Part,"L\u01b0\u01a1ng_c\u01a1_b\u1ea3n":l}}}:n}))}),[]);(0,u.useEffect)((()=>{var n,l;const i=null===_||void 0===_||null===(n=_["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"])||void 0===n||null===(l=n.Part)||void 0===l?void 0:l.Part;i&&y(i)}),[_,y]);const T=async()=>{const n=await(null===r||void 0===r?void 0:r.callFunction("calculateNetSalary"));if(Array.isArray(n)&&n.length>0){const l=n.map((n=>{var l,i,u;return null===(l=n.public)||void 0===l||null===(i=l.output)||void 0===i||null===(u=i.calculation)||void 0===u?void 0:u["Total salary without tax"]})),i=n.map((n=>{var l,i,u;return null===(l=n.public)||void 0===l||null===(i=l.output)||void 0===i||null===(u=i.calculation)||void 0===u?void 0:u["Thu\u1ebf_thu_nh\u1eadp_c\xe1_nh\xe2n"]})),u=n.map((n=>{var l,i,u;return null===(l=n.public)||void 0===l||null===(i=l.output)||void 0===i||null===(u=i.calculation)||void 0===u?void 0:u["LOAN_Ti\u1ec1n_\u1ee9ng_tr\u01b0\u1edbc"]})),t=n.map((n=>{var l,i,u;return null===(l=n.public)||void 0===l||null===(i=l.output)||void 0===i||null===(u=i.calculation)||void 0===u?void 0:u["Kh\u1ea5u_tr\u1eeb"]})),o=n.map((n=>{var l,i,u;return null===(l=n.public)||void 0===l||null===(i=l.output)||void 0===i||null===(u=i.calculation)||void 0===u?void 0:u["L\u01b0\u01a1ng_\u0111\xf3ng_b\u1ea3o_hi\u1ec3m"]})),a=l[l.length-1],e=i[i.length-1],d=u[u.length-1],r=t[t.length-1],v=o[o.length-1];if(void 0!==a||void 0!==e||void 0!==d||void 0!==r||void 0!==v){m((n=>Array.isArray(n)?[...n,a]:[a])),m((n=>Array.isArray(n)?[...n,e]:[e])),m((n=>Array.isArray(n)?[...n,d]:[d])),m((n=>Array.isArray(n)?[...n,r]:[r])),m((n=>Array.isArray(n)?[...n,v]:[v]));return{Salary_no_tax:{Total_salary:a},"Thu\u1ebf_TNCN":{"Thu\u1ebf_TNCN":e},"LOAN_Ti\u1ec1n \u1ee9ng tr\u01b0\u1edbc":{Loan_amount:d},"EXPENSE REIMBURSEMENT - KH\u1ea4U TR\u1eea":{Expense:r},"B\u1ea2O HI\u1ec2M":{"Th\xe0nh_ti\u1ec1n_BH":v}}}console.error("Kh\xf4ng t\xecm th\u1ea5y gi\xe1 tr\u1ecb trong ph\u1ea3n h\u1ed3i.")}else console.error("Ph\u1ea3n h\u1ed3i kh\xf4ng ph\u1ea3i l\xe0 m\u1ed9t m\u1ea3ng ho\u1eb7c r\u1ed7ng.")};return(0,e.jsx)(e.Fragment,{children:n?(0,e.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,e.jsx)("div",{className:"text-gray-600 text-lg",children:"Loading..."})}):(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"flex justify-center",children:[i?(0,e.jsx)(t.Ay,{schema:i,validator:o.Ay,formData:_,onSubmit:async n=>{try{if(n){var l,i,u,t,o,a,e,v,c,h,_,p,m,y,f,S,D,N,b,I,k,E,x,A,B,L;const j=null===(l=n.formData)||void 0===l||null===(i=l["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"])||void 0===i?void 0:i["Th\xf4ng_tin_nh\xe2n_vi\xean"],H=null===(u=n.formData)||void 0===u||null===(t=u["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"])||void 0===t?void 0:t.Part,C=null===(o=n.formData)||void 0===o||null===(a=o["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"])||void 0===a||null===(e=a.Plan)||void 0===e?void 0:e["Ch\u1ec9_ti\xeau"],O=null===(v=n.formData)||void 0===v||null===(c=v["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"])||void 0===c?void 0:c.Budget_performance,P=null===(h=n.formData)||void 0===h||null===(_=h["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"])||void 0===_?void 0:_.Bonus,R=null===(p=n.formData)||void 0===p||null===(m=p["Thu\u1ebf TNCN Input"])||void 0===m?void 0:m.input,M=null===(y=n.formData)||void 0===y||null===(f=y["LOAN_Ti\u1ec1n \u1ee9ng tr\u01b0\u1edbc Input"])||void 0===f?void 0:f.input,F=null===(S=n.formData)||void 0===S||null===(D=S["EXPENSE REIMBURSEMENT - KH\u1ea4U TR\u1eea Input"])||void 0===D?void 0:D.input,w=null===(N=n.formData)||void 0===N||null===(b=N["B\u1ea2O HI\u1ec2M"])||void 0===b?void 0:b.Input,K={user:r.id,Name:null===j||void 0===j?void 0:j.Name,ID:null===j||void 0===j?void 0:j.ID,Part:null===H||void 0===H?void 0:H.Part,BasicSalary:null===H||void 0===H?void 0:H["L\u01b0\u01a1ng_c\u01a1_b\u1ea3n"],KPIs:(null===C||void 0===C?void 0:C.map((n=>({NameTaget:null===n||void 0===n?void 0:n["T\xean_ch\u1ec9_ti\xeau"],Money:null===n||void 0===n?void 0:n["S\u1ed1_ti\u1ec1n"]}))))||[],Balance:O,Bonus:P},U={Date:R.Datetime,FullName:null===R||void 0===R?void 0:R["T\xean_nh\xe2n_vi\xean"],ID:null===R||void 0===R?void 0:R.ID,SalaryNoTax:null===R||void 0===R?void 0:R["L\u01b0\u01a1ng_ch\u01b0a_thu\u1ebf"],Level:null===R||void 0===R?void 0:R["H\u1ec7_s\u1ed1"],ReduceYourSelf:null===R||void 0===R?void 0:R["Gi\u1ea3m tr\u1eeb b\u1ea3n th\xe2n"],InsuranceFees:null===R||void 0===R?void 0:R["B\u1ea3o_hi\u1ec3m"]},X={LoanRegistrationTime:M.Datetime,ExpriedDay:M.Expired_days,LoanType:M.Loan_type,StaffName:M.Name,RefundDay:M.Refund_date,Money:M.Value},Y={NotEnoughTargetStudent:{StudentNumber:null===F||void 0===F||null===(I=F["S\u1ed1_h\u1ecdc_vi\xean_kh\xf4ng_\u0111\u1ee7_ch\u1ec9_ti\xeau "])||void 0===I?void 0:I["S\u1ed1_l\u01b0\u1ee3ng_h\u1ecdc_vi\xean"],StudentMoney:null===F||void 0===F||null===(k=F["S\u1ed1_h\u1ecdc_vi\xean_kh\xf4ng_\u0111\u1ee7_ch\u1ec9_ti\xeau "])||void 0===k?void 0:k["S\u1ed1_ti\u1ec1n_HV"]},DefautFee:null===F||void 0===F||null===(E=F["Default fee"])||void 0===E?void 0:E["S\u1ed1_ti\u1ec1n_Def"],Outsourcing:null===F||void 0===F||null===(x=F.Outsourcing)||void 0===x?void 0:x["S\u1ed1_ti\u1ec1n_Outs"],UnauthorizedDayoff:{DayNumber:null===F||void 0===F||null===(A=F["S\u1ed1_ng\xe0y_ngh\u1ec9_kh\xf4ng_ph\xe9p"])||void 0===A?void 0:A["S\u1ed1_ng\xe0y"],MoneyOfDayoff:null===F||void 0===F||null===(B=F["S\u1ed1_ng\xe0y_ngh\u1ec9_kh\xf4ng_ph\xe9p"])||void 0===B?void 0:B["S\u1ed1_ti\u1ec1n_tr\xean_m\u1ed9t_ng\xe0y_ngh\u1ec9"]},LackTargets:(null===F||void 0===F||null===(L=F.Thi\u1ebfu_ch\u1ec9_ti\u00eau)||void 0===L?void 0:L.map((n=>({TargetName:null===n||void 0===n?void 0:n["T\xean_ch\u1ec9_ti\xeau"],RegisterName:null===n||void 0===n?void 0:n["Ng\u01b0\u1eddi_\u0111\u0103ng_k\xfd"],CompensationMoney:null===n||void 0===n?void 0:n["S\u1ed1_ti\u1ec1n_b\u1ed3i_th\u01b0\u1eddng"]}))))||[]},q={BHTN:null===w||void 0===w?void 0:w.BHTN,BHXH:null===w||void 0===w?void 0:w.BHXH,BHYT:null===w||void 0===w?void 0:w.BHYT,SalaryInsurance:null===w||void 0===w?void 0:w["L\u01b0\u01a1ng_\u0111\xf3ng_b\u1ea3o_hi\u1ec3m"]},V={"Ng\u01b0\u1eddi_d\xf9ng":r.id,"Thu_nh\u1eadp_ch\u1ecbu_thu\u1ebf":K,"Thu\u1ebf_thu_nh\u1eadp_c\xe1_nh\xe2n":U,"LOAN_Ti\u1ec1n_\u1ee9ng_tr\u01b0\u1edbc":X,"Kh\u1ea5u_tr\u1eeb":Y,"B\u1ea3o_hi\u1ec3m":q},z=await d.currentUser.callFunction("receivedData",V);console.log(z);const G=await T(n.formData);s(G),g()}else console.error("Form data is missing or invalid.")}catch(j){console.error("Error fetching data:",j)}},onChange:n=>{p(n.formData)}}):(0,e.jsx)("div",{children:"Kh\xf4ng c\xf3 jsonSchemaCalculateNetSalaryInput"}),v?(0,e.jsx)(t.Ay,{schema:v,validator:o.Ay,disabled:!0,formData:h,uiSchema:{"ui:submitButtonOptions":{norender:!0}}}):(0,e.jsx)("div",{children:"Kh\xf4ng c\xf3 jsonSchemaCalculateNetSalaryOutput"}),(0,e.jsx)("p",{children:"K\u1ebft qu\u1ea3 l\xe0: "})]})})})}}}]);
//# sourceMappingURL=243.263076c0.chunk.js.map