{"version":3,"file":"static/js/584.e5cb4f02.chunk.js","mappings":"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","sources":["routers/home/ordering_infor.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport * as Realm from 'realm-web';\r\nimport './cart_page.css';\r\n\r\nconst app = new Realm.App({ id: process.env.REACT_APP_REALM_ID });\r\n\r\nconst OrderingInfoPage = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [products, setProducts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const functionName = \"getOrderingInfo\";\r\n      const result = await app.currentUser.callFunction(functionName);\r\n      setProducts(result); // Cập nhật state products với dữ liệu từ server;\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.log(error.error);\r\n    }\r\n  };\r\n\r\n  const handleShowProducts = async (productId) => {\r\n    try {\r\n      // Gọi API để lấy thông tin sản phẩm cụ thể dựa trên productId\r\n      const functionName = \"getOrderingInfo\";\r\n      const productDetail = await app.currentUser.callFunction(functionName,productId);\r\n      \r\n      // Cập nhật trạng thái của sản phẩm\r\n      setProducts(products.map(product => {\r\n        if (product._id === productId) {\r\n          return { ...product, selected: !product.selected }; // Đảo ngược trạng thái selected\r\n        } else {\r\n          return product;\r\n        }\r\n      }));\r\n\r\n      return productDetail;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"container_OderingPage\">\r\n      <div className='containers'>\r\n        {loading ? (\r\n          <p>Đang tải sản phẩm...</p>\r\n        ) : (\r\n          <>\r\n            <div className=\"product_list\">\r\n              {Array.isArray(products) && products.length > 0 ? (\r\n                products.map((product, index) => (\r\n                  <div key={index} className=\"products\">\r\n                    <h3>Thông tin đơn hàng {index + 1}</h3>\r\n                    <img src={product.imageUrl} alt={product.imageUrl} />\r\n                    <p><strong>Tên khách hàng:</strong> {product.fullName}</p>\r\n                    <p><strong>Id khách hàng:</strong> {product.user}</p>\r\n                    <p><strong>Thời gian đặt:</strong> {product.date}</p>\r\n                    <p><strong>Email:</strong> {product.email}</p>\r\n                    <p><strong>Address:</strong> {product.address}</p>\r\n                    <p><strong>Số điện thoại:</strong> {product.phoneNumber}</p>\r\n                    <p><strong>Tổng thanh toán:</strong> ${product.totalPays}</p>\r\n                    <button onClick={() => handleShowProducts(product._id)}>\r\n                      {product.selected ? \"Ẩn\" : \"Chi tiết\"} {/* Thay đổi văn bản của nút */}\r\n                    </button>\r\n                    {product.selected && product.products.map((productlist, productIndex) => (\r\n                      <div key={productIndex}>\r\n                        <p><strong>Sản phẩm {productIndex + 1}</strong></p>\r\n                        <p><strong>Tên sản phẩm:</strong> {productlist.productName}</p>\r\n                        <p><strong>Loại sản phẩm:</strong> {productlist.productType}</p>\r\n                        <p><strong>Giá bán:</strong> ${productlist.sellingPrice}</p>\r\n                        <p><strong>Số lượng mua:</strong> {productlist.productCounts}</p>\r\n                        <p><strong>Tổng thanh toán:</strong> ${productlist.totalPay}</p>\r\n                        {/* Các thông tin khác về sản phẩm */}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <p>Giỏ hàng chưa có sản phẩm nào</p>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderingInfoPage;\r\n"],"names":["app","Realm","id","process","OrderingInfoPage","loading","setLoading","useState","products","setProducts","useEffect","fetchData","async","functionName","result","currentUser","callFunction","error","console","log","_jsx","className","children","_Fragment","Array","isArray","length","map","product","index","_jsxs","src","imageUrl","alt","fullName","user","date","email","address","phoneNumber","totalPays","onClick","productDetail","productId","_id","selected","handleShowProducts","productlist","productIndex","productName","productType","sellingPrice","productCounts","totalPay"],"sourceRoot":""}