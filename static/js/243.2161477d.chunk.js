"use strict";(self.webpackChunkapp_test=self.webpackChunkapp_test||[]).push([[243],{43243:(n,l,i)=>{i.r(l),i.d(l,{default:()=>v});var u=i(65043),o=i(96244),t=i(40443),a=i(93402),e=i(70579);const r=new a.qw({id:"app-test-dnvhs"}),d=r.currentUser,v=()=>{const[n,l]=(0,u.useState)(!0),[i,a]=(0,u.useState)({}),[v,c]=(0,u.useState)({}),[h,_]=(0,u.useState)(null),[s,p]=(0,u.useState)({}),[,g]=(0,u.useState)([]),m=(0,u.useCallback)((async()=>{try{var n,i,u,o;const t="salaryFormModule",e=await(null===d||void 0===d?void 0:d.callFunction(t));a(null===e||void 0===e||null===(n=e.public)||void 0===n||null===(i=n.input)||void 0===i?void 0:i.jsonSchema),c(null===e||void 0===e||null===(u=e.public)||void 0===u||null===(o=u.output)||void 0===o?void 0:o.jsonData),l(!1)}catch(t){console.error("Error fetching data:",t),l(!1)}}),[]);(0,u.useEffect)((()=>{m()}),[m]);const y=(0,u.useCallback)((n=>{let l=0;switch(n){case"Teaching Department":l=8e6;break;case"Technical Department":l=9e6;break;case"HR Department":l=1e7;break;case"Production Department":l=11e6;break;case"Supervision Department":l=15e6;break;case"R&D":l=2e7;break;case"CFO":l=3e7;break;case"CEO":l=4e7;break;default:l=0}p((n=>{var i,u;return(null===n||void 0===n||null===(i=n["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"])||void 0===i||null===(u=i.Part)||void 0===u?void 0:u["L\u01b0\u01a1ng_c\u01a1_b\u1ea3n"])!==l?{...n,"Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input":{...n["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"],Part:{...n["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"].Part,"L\u01b0\u01a1ng_c\u01a1_b\u1ea3n":l}}}:n}))}),[]);(0,u.useEffect)((()=>{var n,l;const i=null===s||void 0===s||null===(n=s["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"])||void 0===n||null===(l=n.Part)||void 0===l?void 0:l.Part;i&&y(i)}),[s,y]);const T=async()=>{const n=await(null===d||void 0===d?void 0:d.callFunction("calculateNetSalary"));if(Array.isArray(n)&&n.length>0){const l=n.map((n=>{var l,i,u;return null===(l=n.public)||void 0===l||null===(i=l.output)||void 0===i||null===(u=i.calculation)||void 0===u?void 0:u.Total_salary_without_tax})),i=n.map((n=>{var l,i,u;return null===(l=n.public)||void 0===l||null===(i=l.output)||void 0===i||null===(u=i.calculation)||void 0===u?void 0:u["Thu\u1ebf_thu_nh\u1eadp_c\xe1_nh\xe2n"]})),u=n.map((n=>{var l,i,u;return null===(l=n.public)||void 0===l||null===(i=l.output)||void 0===i||null===(u=i.calculation)||void 0===u?void 0:u["LOAN_Ti\u1ec1n_\u1ee9ng_tr\u01b0\u1edbc"]})),o=n.map((n=>{var l,i,u;return null===(l=n.public)||void 0===l||null===(i=l.output)||void 0===i||null===(u=i.calculation)||void 0===u?void 0:u["Kh\u1ea5u_tr\u1eeb"]})),t=n.map((n=>{var l,i,u,o;return null===(l=n.public)||void 0===l||null===(i=l.output)||void 0===i||null===(u=i.calculation)||void 0===u||null===(o=u["L\u01b0\u01a1ng_\u0111\xf3ng_b\u1ea3o_hi\u1ec3m"])||void 0===o?void 0:o["L\u01b0\u01a1ng_\u0111\xf3ng_b\u1ea3o_hi\u1ec3m"]})),a=n.map((n=>{var l,i,u,o;return null===(l=n.public)||void 0===l||null===(i=l.output)||void 0===i||null===(u=i.calculation)||void 0===u||null===(o=u["L\u01b0\u01a1ng_\u0111\xf3ng_b\u1ea3o_hi\u1ec3m"])||void 0===o?void 0:o.BHXH})),e=n.map((n=>{var l,i,u,o;return null===(l=n.public)||void 0===l||null===(i=l.output)||void 0===i||null===(u=i.calculation)||void 0===u||null===(o=u["L\u01b0\u01a1ng_\u0111\xf3ng_b\u1ea3o_hi\u1ec3m"])||void 0===o?void 0:o.BHTN})),r=n.map((n=>{var l,i,u,o;return null===(l=n.public)||void 0===l||null===(i=l.output)||void 0===i||null===(u=i.calculation)||void 0===u||null===(o=u["L\u01b0\u01a1ng_\u0111\xf3ng_b\u1ea3o_hi\u1ec3m"])||void 0===o?void 0:o.BHYT})),d=n.map((n=>{var l,i,u;return null===(l=n.public)||void 0===l||null===(i=l.output)||void 0===i||null===(u=i.calculation)||void 0===u?void 0:u["B\u1ea2O HI\u1ec2M"]})),v=n.map((n=>{var l,i,u;return null===(l=n.public)||void 0===l||null===(i=l.output)||void 0===i||null===(u=i.calculation)||void 0===u?void 0:u["L\u01b0\u01a1ng_th\u1ef1c_l\xe3nh"]})),c=l[l.length-1],h=i[i.length-1],_=u[u.length-1],s=o[o.length-1],p=t[t.length-1],m=a[a.length-1],y=e[e.length-1],T=r[r.length-1],f=d[d.length-1],b=v[v.length-1];if(void 0!==c||void 0!==h||void 0!==_||void 0!==s||void 0!==p||void 0!==m||void 0!==y||void 0!==T||void 0!==f||void 0!==b){g((n=>Array.isArray(n)?[...n,c]:[c])),g((n=>Array.isArray(n)?[...n,h]:[h])),g((n=>Array.isArray(n)?[...n,_]:[_])),g((n=>Array.isArray(n)?[...n,s]:[s])),g((n=>Array.isArray(n)?[...n,p]:[p])),g((n=>Array.isArray(n)?[...n,m]:[m])),g((n=>Array.isArray(n)?[...n,y]:[y])),g((n=>Array.isArray(n)?[...n,T]:[T])),g((n=>Array.isArray(n)?[...n,f]:[f])),g((n=>Array.isArray(n)?[...n,b]:[b]));return{Salary_no_tax:{Total_salary:c},"Thu\u1ebf_TNCN":{"Thu\u1ebf_TNCN":h},"LOAN_Ti\u1ec1n \u1ee9ng tr\u01b0\u1edbc":{Loan_amount:_},"EXPENSE REIMBURSEMENT - KH\u1ea4U TR\u1eea":{Expense:s},"L\u01b0\u01a1ng \u0111\xf3ng b\u1ea3o hi\u1ec3m":{BHXH:m,BHTN:y,BHYT:T,"L\u01b0\u01a1ng_\u0111\xf3ng_b\u1ea3o_hi\u1ec3m":p},"B\u1ea2O HI\u1ec2M":{"Th\xe0nh_ti\u1ec1n_BH":f},"L\u01af\u01a0NG TH\u1ef0C L\xc3NH":b}}console.error("Kh\xf4ng t\xecm th\u1ea5y gi\xe1 tr\u1ecb trong ph\u1ea3n h\u1ed3i.")}else console.error("Ph\u1ea3n h\u1ed3i kh\xf4ng ph\u1ea3i l\xe0 m\u1ed9t m\u1ea3ng ho\u1eb7c r\u1ed7ng.")};return(0,e.jsx)(e.Fragment,{children:n?(0,e.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,e.jsx)("div",{className:"text-gray-600 text-lg",children:"Loading..."})}):(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"flex justify-center",children:[i?(0,e.jsx)(o.Ay,{schema:i,validator:t.Ay,formData:s,onSubmit:async n=>{try{if(n){var l,i,u,o,t,a,e,v,c,h,s,p,g,y,f,b,N,S,D,A,H,I,B,L,k,E;const x=null===(l=n.formData)||void 0===l||null===(i=l["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"])||void 0===i?void 0:i["Th\xf4ng_tin_nh\xe2n_vi\xean"],j=null===(u=n.formData)||void 0===u||null===(o=u["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"])||void 0===o?void 0:o.Part,C=null===(t=n.formData)||void 0===t||null===(a=t["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"])||void 0===a||null===(e=a.Plan)||void 0===e?void 0:e["Ch\u1ec9_ti\xeau"],O=null===(v=n.formData)||void 0===v||null===(c=v["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"])||void 0===c?void 0:c.Budget_performance,P=null===(h=n.formData)||void 0===h||null===(s=h["Thu nh\u1eadp ch\u1ecbu thu\u1ebf Input"])||void 0===s?void 0:s.Bonus,M=null===(p=n.formData)||void 0===p||null===(g=p["Thu\u1ebf TNCN Input"])||void 0===g?void 0:g.input,R=null===(y=n.formData)||void 0===y||null===(f=y["LOAN_Ti\u1ec1n \u1ee9ng tr\u01b0\u1edbc Input"])||void 0===f?void 0:f.input,F=null===(b=n.formData)||void 0===b||null===(N=b["EXPENSE REIMBURSEMENT - KH\u1ea4U TR\u1eea Input"])||void 0===N?void 0:N.input,w=null===(S=n.formData)||void 0===S||null===(D=S["B\u1ea2O HI\u1ec2M"])||void 0===D?void 0:D.Input,K={user:d.id,Name:null===x||void 0===x?void 0:x.Name,ID:null===x||void 0===x?void 0:x.ID,Part:null===j||void 0===j?void 0:j.Part,BasicSalary:null===j||void 0===j?void 0:j["L\u01b0\u01a1ng_c\u01a1_b\u1ea3n"],KPIs:(null===C||void 0===C?void 0:C.map((n=>({NameTaget:null===n||void 0===n?void 0:n["T\xean_ch\u1ec9_ti\xeau"],Money:null===n||void 0===n?void 0:n["S\u1ed1_ti\u1ec1n"]}))))||[],Balance:O,Bonus:P},U={Date:M.Datetime,FullName:null===M||void 0===M?void 0:M["T\xean_nh\xe2n_vi\xean"],ID:null===M||void 0===M?void 0:M.ID,SalaryNoTax:null===M||void 0===M?void 0:M["L\u01b0\u01a1ng_ch\u01b0a_thu\u1ebf"],Level:null===M||void 0===M?void 0:M["H\u1ec7_s\u1ed1"],ReduceYourSelf:null===M||void 0===M?void 0:M["Gi\u1ea3m tr\u1eeb b\u1ea3n th\xe2n"],InsuranceFees:null===M||void 0===M?void 0:M["B\u1ea3o_hi\u1ec3m"]},X={LoanRegistrationTime:R.Datetime,ExpriedDay:R.Expired_days,LoanType:R.Loan_type,StaffName:R.Name,RefundDay:R.Refund_date,Money:R.Value},Y={NotEnoughTargetStudent:{StudentNumber:null===F||void 0===F||null===(A=F["S\u1ed1_h\u1ecdc_vi\xean_kh\xf4ng_\u0111\u1ee7_ch\u1ec9_ti\xeau "])||void 0===A?void 0:A["S\u1ed1_l\u01b0\u1ee3ng_h\u1ecdc_vi\xean"],StudentMoney:null===F||void 0===F||null===(H=F["S\u1ed1_h\u1ecdc_vi\xean_kh\xf4ng_\u0111\u1ee7_ch\u1ec9_ti\xeau "])||void 0===H?void 0:H["S\u1ed1_ti\u1ec1n_HV"]},DefautFee:null===F||void 0===F||null===(I=F["Default fee"])||void 0===I?void 0:I["S\u1ed1_ti\u1ec1n_Def"],Outsourcing:null===F||void 0===F||null===(B=F.Outsourcing)||void 0===B?void 0:B["S\u1ed1_ti\u1ec1n_Outs"],UnauthorizedDayoff:{DayNumber:null===F||void 0===F||null===(L=F["S\u1ed1_ng\xe0y_ngh\u1ec9_kh\xf4ng_ph\xe9p"])||void 0===L?void 0:L["S\u1ed1_ng\xe0y"],MoneyOfDayoff:null===F||void 0===F||null===(k=F["S\u1ed1_ng\xe0y_ngh\u1ec9_kh\xf4ng_ph\xe9p"])||void 0===k?void 0:k["S\u1ed1_ti\u1ec1n_tr\xean_m\u1ed9t_ng\xe0y_ngh\u1ec9"]},LackTargets:(null===F||void 0===F||null===(E=F.Thi\u1ebfu_ch\u1ec9_ti\u00eau)||void 0===E?void 0:E.map((n=>({TargetName:null===n||void 0===n?void 0:n["T\xean_ch\u1ec9_ti\xeau"],RegisterName:null===n||void 0===n?void 0:n["Ng\u01b0\u1eddi_\u0111\u0103ng_k\xfd"],CompensationMoney:null===n||void 0===n?void 0:n["S\u1ed1_ti\u1ec1n_b\u1ed3i_th\u01b0\u1eddng"]}))))||[]},G={BHTN:null===w||void 0===w?void 0:w.BHTN,BHXH:null===w||void 0===w?void 0:w.BHXH,BHYT:null===w||void 0===w?void 0:w.BHYT,SalaryInsurance:null===w||void 0===w?void 0:w["L\u01b0\u01a1ng_\u0111\xf3ng_b\u1ea3o_hi\u1ec3m"]},V={"Ng\u01b0\u1eddi_d\xf9ng":d.id,"Thu_nh\u1eadp_ch\u1ecbu_thu\u1ebf":K,"Thu\u1ebf_thu_nh\u1eadp_c\xe1_nh\xe2n":U,"LOAN_Ti\u1ec1n_\u1ee9ng_tr\u01b0\u1edbc":X,"Kh\u1ea5u_tr\u1eeb":Y,"B\u1ea3o_hi\u1ec3m":G},q=await r.currentUser.callFunction("receivedData",V),z=await T(n.formData);return _(z),m(),q}console.error("Form data is missing or invalid.")}catch(x){console.error("Error fetching data:",x)}},onChange:n=>{p(n.formData)}}):(0,e.jsx)("div",{children:"Kh\xf4ng c\xf3 jsonSchemaCalculateNetSalaryInput"}),v?(0,e.jsx)(o.Ay,{schema:v,validator:t.Ay,disabled:!0,formData:h,uiSchema:{"ui:submitButtonOptions":{norender:!0}}}):(0,e.jsx)("div",{children:"Kh\xf4ng c\xf3 jsonSchemaCalculateNetSalaryOutput"})]})})})}}}]);
//# sourceMappingURL=243.2161477d.chunk.js.map