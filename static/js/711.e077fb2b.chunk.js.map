{"version":3,"file":"static/js/711.e077fb2b.chunk.js","mappings":"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","sources":["routers/home/logout.js","routers/home/page.js"],"sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport * as Realm from 'realm-web';\r\nimport Form from '@rjsf/core';\r\nimport validator from '@rjsf/validator-ajv8';\r\nimport Home from './page';\r\n\r\n\r\n\r\nconst app = new Realm.App({ id: process.env.REACT_APP_REALM_ID });\r\nconst user = app.currentUser;\r\n\r\nconst schema = {\r\n  title: 'Register',\r\n  type: 'object',\r\n  required: ['email', 'password'],\r\n  properties: {\r\n    email: { type: 'string', title: 'Email', format: 'email' },\r\n    password: { type: 'string', title: 'Password', minLength: 6, format: 'password' },\r\n  },\r\n};\r\n\r\nconst loginSchema = {\r\n  title: 'Login',\r\n  type: 'object',\r\n  required: ['email', 'password'],\r\n  properties: {\r\n    email: { type: 'string', title: 'Email', format: 'email' },\r\n    password: { type: 'string', title: 'Password', minLength: 6, format: 'password' },\r\n  },\r\n};\r\n\r\nconst Logout = () => {\r\n  const [ , setUser] = useState(null);\r\n  const [showRegisterForm, setShowRegisterForm] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false); // Thêm state mới để kiểm tra trạng thái đăng nhập\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n        try {\r\n          // Authenticate the user\r\n          if (user) { // Kiểm tra xem user có tồn tại không trước khi gọi fetchUser\r\n            await user.logOut(); // Trước khi đăng xuất, kiểm tra user có tồn tại\r\n            setIsLoggedIn(false)\r\n          }\r\n          if (setUser() == null){\r\n            setIsLoggedIn(false)\r\n            window.location.reload(true)\r\n            window.location.href = '/app-test/Logout';\r\n            if (window.location.href === '/404')\r\n              {\r\n                setIsLoggedIn(false)\r\n                return  window.location.href = '/app-test/Logout';\r\n              }\r\n          }\r\n        } catch (error) {\r\n          console.log(error.error);\r\n        }\r\n    };\r\n\r\n    if (user) {\r\n        fetchUser();\r\n      }\r\n      \r\n  }, []); // Thêm logOut vào danh sách dependency của useEffect\r\n\r\n  const register = async (form) => {\r\n    const { email, password } = form.formData;\r\n    try {\r\n      await app.emailPasswordAuth.registerUser({ email, password });\r\n      window.location.reload(true);\r\n    } catch (error) {\r\n      console.log(error.error);\r\n    }\r\n  };\r\n\r\n  const login = async (form) => {\r\n    const { email, password } = form.formData;\r\n    try {\r\n      const credentials = Realm.Credentials.emailPassword(email, password);\r\n      const loggedInUser = await app.logIn(credentials);\r\n      setLoading(false);\r\n      setUser(loggedInUser);\r\n      setIsLoggedIn(true); // Đã đăng nhập thành công\r\n      window.location.reload(true);\r\n      window.location.href = '/app-test/home';\r\n    \r\n    } catch (error) {\r\n      console.log(error.error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {user ? (\r\n        <>\r\n          {isLoggedIn && loading ? <p>Loading...</p> : <Home />}\r\n        </>\r\n      ) : (\r\n        <div className=\"overlay-container\">\r\n          <div className=\"overlay-content\">\r\n            <div className=\"container_form\">\r\n              {!showRegisterForm ? (\r\n                <>\r\n                  <button className=\"button1\" onClick={() => setShowRegisterForm(true)}>\r\n                    Đăng ký\r\n                  </button>\r\n                  <Form\r\n                    className=\"custom-form\"\r\n                    schema={loginSchema}\r\n                    validator={validator}\r\n                    onSubmit={login}\r\n                  />\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <button className=\"button1\" onClick={() => setShowRegisterForm(false)}>\r\n                    Quay lại\r\n                  </button>\r\n                  <Form\r\n                    className=\"custom-form\"\r\n                    schema={schema}\r\n                    validator={validator}\r\n                    onSubmit={register}\r\n                  />\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logout;\r\n","import React, {useEffect, useState} from 'react';\r\nimport *as Realm from 'realm-web';\r\n\r\nimport Form from '@rjsf/core';\r\nimport validator from '@rjsf/validator-ajv8';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nconst app = new Realm.App({id:process.env.REACT_APP_REALM_ID})\r\nconst user = app.currentUser\r\n\r\n// Schema\r\nconst schema = {\r\n  title: 'Register',\r\n  type: 'object',\r\n  required: ['email', 'password'],\r\n  properties: {\r\n    email: { type: 'string', title: 'Email', format: 'email' },\r\n    password: { type: 'string', title: 'Password', minLength: 6, format: 'password'},\r\n  },\r\n};\r\n\r\nconst Login = {\r\n  title: 'Login',\r\n  type: 'object',\r\n  required: ['email', 'password'],\r\n  properties: {\r\n    email: { type: 'string', title: 'Email', format: 'email' },\r\n    password: { type: 'string', title: 'Password', minLength: 6, format: 'password'},\r\n  },\r\n};\r\n/*\r\nconst Sum = {\r\n  title: 'Sum',\r\n  type: 'object',\r\n  required: ['a', 'b'],\r\n  properties: {\r\n    a: { type: 'number', title: 'A'},\r\n    b: { type: 'number', title: 'B'},\r\n  },\r\n};\r\n*/\r\n////////////////////////////////////////////////////////////////////////////\r\n// async\r\nconst Home = () => {\r\n\r\n  const [showRegisterForm, setShowRegisterForm] = useState(false);\r\n\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [cartCount, setCartCount] = useState(0);\r\n  const [cartItems, setCartItems] = useState([]);\r\n\r\n  const [ , setProductCounts] = useState({});\r\n  const [ , setProducttotalPay] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n    fetchData();\r\n    }\r\n  }, [])\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const functionName = \"getAllProducts\";\r\n      const result = await app.currentUser.callFunction(functionName);\r\n      setProducts(result);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.log(error.error);\r\n      setLoading(false);\r\n    }\r\n  }\r\n  const addToCart = async (productId) => {\r\n    try {\r\n      // Gọi hàm để lấy thông tin chi tiết của sản phẩm từ máy chủ\r\n      const product = await getProductDetails(productId);\r\n  \r\n      // Kiểm tra xem sản phẩm có tồn tại không\r\n      if (!product) {\r\n        throw new Error(\"Không tìm thấy thông tin sản phẩm.\");\r\n      }\r\n      // Cập nhật giỏ hàng\r\n      setCartCount(cartCount + 1);\r\n      setCartItems([...cartItems, { id: product._id, productName: product.productName }]);\r\n\r\n      // Cập nhật số lượng sản phẩm được thêm vào giỏ hàng\r\n      setProductCounts(prevCounts => {\r\n        const updatedCounts = { ...prevCounts };\r\n        updatedCounts[productId] = (updatedCounts[productId] || 0) + 1;\r\n        //console.log(productCounts);\r\n        return updatedCounts;\r\n          \r\n      });\r\n      // Cập nhật số lượng sản phẩm được thêm vào giỏ hàng\r\n      setProducttotalPay(prevCounts => {\r\n        const updatedtotalPay = { ...prevCounts };\r\n        //updatedtotalPay[productId] = (updatedtotalPay[productId] || 0) + 1;\r\n        //console.log(productCounts);\r\n        return updatedtotalPay;\r\n          \r\n      });\r\n    } catch (error) {\r\n      console.error('Lỗi khi thêm vào giỏ hàng:', error);\r\n      // Xử lý lỗi ở đây, ví dụ: hiển thị thông báo lỗi cho người dùng\r\n    }\r\n  };\r\n    // Hàm để lấy thông tin chi tiết của sản phẩm từ cơ sở dữ liệu hoặc ngữ cảnh của bạn\r\n    const getProductDetails = async (productId) => {\r\n\r\n      try {\r\n        // Thực hiện truy vấn để lấy thông tin sản phẩm từ cơ sở dữ liệu\r\n\r\n        const result = await app.currentUser.callFunction(\"getCart\", productId);\r\n        \r\n            // Kiểm tra và loại bỏ các thuộc tính circular structure\r\n        const productWithoutCircular = removeCircular(result);\r\n\r\n    // Trả về thông tin chi tiết của sản phẩm\r\n    return productWithoutCircular;\r\n  } catch (error) {\r\n    console.error('Lỗi khi lấy thông tin sản phẩm:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Hàm loại bỏ circular structure\r\nconst removeCircular = (obj) => {\r\n  const seen = new WeakSet();\r\n  const cleanObj = JSON.parse(JSON.stringify(obj, (key, value) => {\r\n    if (typeof value === 'object' && value !== null) {\r\n      if (seen.has(value)) {\r\n        return;\r\n      }\r\n      seen.add(value);\r\n    }\r\n    return value;\r\n  }));\r\n  return cleanObj;\r\n};\r\n  //Register\r\n  const Register = async (form) =>{\r\n\r\n    const {email, password} = form?.formData\r\n\r\n    try {\r\n\r\n      await app.emailPasswordAuth.registerUser({email, password});\r\n      window.location.reload(true)\r\n\r\n    } catch (error) {\r\n      console.log(error.error)\r\n    }\r\n  }\r\n\r\n  //Login\r\n    const Loginn = async (form) =>{\r\n\r\n      const {email, password} = form?.formData\r\n  \r\n      try {\r\n        // Create an API Key credential\r\n        const credentials = Realm.Credentials.emailPassword(email, password);\r\n        // Authenticate the user\r\n        await app.logIn(credentials);\r\n        window.location.reload(true)\r\n  \r\n      } catch (error) {\r\n        console.log(error.error)\r\n\r\n      }\r\n  }\r\n\r\n\r\n\r\n///////////////////////////////////////////////////////////////////////////////////\r\n  //Return Result\r\n  return (\r\n    <div>\r\n      {user? (\r\n        \r\n      <div>\r\n\r\n      \r\n        {/* Kiểm tra isLoading để xem liệu dữ liệu sản phẩm đang được tải hay không */}\r\n        {loading ? (\r\n          <p>Đang tải sản phẩm...</p>\r\n        ) : (\r\n         <div className='product'>\r\n              <div className=\"cart-icon\">\r\n              {/* Sử dụng Link để điều hướng đến trang giỏ hàng */}\r\n              <Link to={\"/cart\"}>\r\n                <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRNjsW9hOm9ohsN9Mzhpc-BA-L1hRFAX_GV_rpBrO3GDbrniV0UUD76niBFTA&s\" alt='img_cart_icon'></img>\r\n                <span className=\"cart-count\">{cartCount}</span>\r\n              </Link>\r\n          </div>\r\n            <ul>\r\n              {/* Duyệt qua danh sách sản phẩm và hiển thị */}\r\n              {products.map((product) => (\r\n                <li key={product._id}>\r\n                    <img src={product.imageUrl} alt={product.productName} />\r\n                    <h2>{product.productName}</h2>\r\n                    <p>{product.productType}</p>\r\n                    <p>Giá: ${product.sellingPrice}</p>\r\n                    <p>Số lượng: {product.quantity}</p>\r\n                    <button className=\"add-to-cart-btn\" onClick={() => addToCart(product._id)}>Thêm vào giỏ hàng</button>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n    </div>\r\n\r\n      ) : (\r\n      <div className=\"overlay-container\">\r\n        <div className=\"overlay-content\">\r\n          <div className='container_form'>\r\n          {!showRegisterForm ? (\r\n            <>\r\n              <button className=\"button1\" onClick={() =>\r\n                setShowRegisterForm(true)}>Đăng ký</button>\r\n\r\n              <Form\r\n                className=\"custom-form\"\r\n                schema={Login}\r\n                validator={validator}\r\n                onSubmit={Loginn}\r\n              />\r\n            </>\r\n          ) : (\r\n              <>\r\n                <button className=\"button1\" onClick={() => \r\n                  setShowRegisterForm(false)}>Quay lại</button>\r\n                <Form\r\n                  className=\"custom-form\"\r\n                  schema={schema}\r\n                  validator={validator}\r\n                  onSubmit={Register}\r\n                />\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      )}\r\n      \r\n    </div>  \r\n  )\r\n};\r\n\r\nexport default Home;"],"names":["app","Realm","id","process","user","currentUser","schema","title","type","required","properties","email","format","password","minLength","loginSchema","Logout","setUser","useState","showRegisterForm","setShowRegisterForm","loading","setLoading","isLoggedIn","setIsLoggedIn","useEffect","async","logOut","window","location","reload","href","error","console","log","fetchUser","_jsx","children","_Fragment","Home","className","_jsxs","onClick","Form","validator","onSubmit","form","formData","emailPasswordAuth","registerUser","credentials","emailPassword","loggedInUser","logIn","Login","products","setProducts","cartCount","setCartCount","cartItems","setCartItems","setProductCounts","setProducttotalPay","fetchData","functionName","result","callFunction","getProductDetails","productId","removeCircular","obj","seen","WeakSet","JSON","parse","stringify","key","value","has","add","Link","to","src","alt","map","product","imageUrl","productName","productType","sellingPrice","quantity","Error","_id","prevCounts","updatedCounts","addToCart"],"sourceRoot":""}